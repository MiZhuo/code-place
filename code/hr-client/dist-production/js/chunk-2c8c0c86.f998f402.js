(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2c8c0c86","chunk-94288bfa"],{"0aaf":function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e._v(" 综合信息统计 ")])},n=[],l={name:"StaAll"},s=l,o=i("2877"),r=Object(o["a"])(s,a,n,!1,null,"02cf5296",null);t["default"]=r.exports},"0ebc":function(e,t,i){},1937:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e._v(" 工资表查询 ")])},n=[],l={name:"SalSearch"},s=l,o=i("2877"),r=Object(o["a"])(s,a,n,!1,null,"c59a687a",null);t["default"]=r.exports},"1e87":function(e,t,i){"use strict";var a=i("d650"),n=i.n(a);n.a},"1ec2":function(e,t,i){"use strict";var a=i("d279"),n=i.n(a);n.a},"1fe7":function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e._v(" 系统管理 ")])},n=[],l={name:"SysCfg"},s=l,o=i("2877"),r=Object(o["a"])(s,a,n,!1,null,"30787529",null);t["default"]=r.exports},"21c7":function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e._v(" 工资表管理 ")])},n=[],l={name:"SalTable"},s=l,o=i("2877"),r=Object(o["a"])(s,a,n,!1,null,"fb56836a",null);t["default"]=r.exports},2587:function(e,t,i){"use strict";var a=i("b244"),n=i.n(a);n.a},"2bc5":function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",[i("div",{staticStyle:{display:"flex","justify-content":"space-between"}},[i("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary",size:"mini",icon:"el-icon-plus"},on:{click:e.toAddSalSob}},[e._v("添加工资账套 ")]),i("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"success",size:"mini",icon:"el-icon-refresh"},on:{click:e.refreshSalSob}})],1)]),i("div",{staticStyle:{"margin-top":"10px"}},[i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"component-table",staticStyle:{width:"100%",height:"100%"},attrs:{data:e.salSobData.list,size:"mini",border:"",stripe:"","max-height":"500","element-loading-text":"正在加载...","header-cell-style":e.getTableStyle,"cell-style":e.getTableStyle},on:{"selection-change":e.handleSelectionChange}},[i("el-table-column",{attrs:{type:"selection",width:"40"}}),e._e(),i("el-table-column",{attrs:{prop:"name",label:"账套名称",width:"120"}}),i("el-table-column",{attrs:{prop:"basicSalary",label:"基本工资",width:"70"}}),i("el-table-column",{attrs:{prop:"trafficSalary",label:"交通补助",width:"70"}}),i("el-table-column",{attrs:{prop:"lunchSalary",label:"午餐补助",width:"70"}}),i("el-table-column",{attrs:{prop:"bonus",label:"奖金",width:"70"}}),i("el-table-column",{attrs:{label:"启用时间",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("i",{staticClass:"el-icon-time"}),i("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.createDate))])]}}])}),i("el-table-column",{attrs:{label:"养老金",align:"center"}},[i("el-table-column",{attrs:{prop:"pensionPer",label:"比率",width:"60"}}),i("el-table-column",{attrs:{prop:"pensionBase",label:"基数",width:"60"}})],1),i("el-table-column",{attrs:{label:"医疗保险",align:"center"}},[i("el-table-column",{attrs:{prop:"medicalPer",label:"比率",width:"60"}}),i("el-table-column",{attrs:{prop:"medicalBase",label:"基数",width:"60"}})],1),i("el-table-column",{attrs:{label:"公积金",align:"center"}},[i("el-table-column",{attrs:{prop:"accumulationFundPer",label:"比率",width:"60"}}),i("el-table-column",{attrs:{prop:"accumulationFundBase",label:"基数",width:"60"}})],1),i("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-button",{staticStyle:{padding:"3px"},attrs:{size:"mini"},on:{click:function(i){return e.handleEdit(t.$index,t.row)}}},[e._v("编辑")]),i("el-button",{staticStyle:{padding:"3px"},attrs:{size:"mini",type:"danger"},on:{click:function(i){return e.handleDelete(t.$index,t.row)}}},[e._v("删除")])]}}])})],1)],1),i("div",{staticStyle:{"margin-top":"10px"}},[i("el-button",{staticStyle:{"margin-top":"10px"},attrs:{size:"mini",type:"danger",disabled:e.batchBtnDisabled},on:{click:e.batchDelete}},[e._v("批量删除")]),i("el-pagination",{staticStyle:{float:"right"},attrs:{"current-page":e.pageNum,"page-sizes":[10,20,30,50],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.salSobData.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),i("el-dialog",{attrs:{title:e.dialogTitle,visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[i("div",{staticStyle:{height:"120px"}},[i("el-steps",{attrs:{active:e.activeStepIndex,"align-center":""}},e._l(e.stepNames,(function(e){return i("el-step",{attrs:{title:e.desc}})})),1),e._l(e.stepNames,(function(t,a){return i("div",{staticStyle:{"margin-top":"20px","text-align":"center"}},e._l(t.input,(function(t){return i("div",{staticStyle:{"margin-top":"10px"}},[i("span",{directives:[{name:"show",rawName:"v-show",value:e.activeStepIndex==a,expression:"activeStepIndex == index"}]},[e._v(e._s(t.name)+" : ")]),i("el-input",{directives:[{name:"show",rawName:"v-show",value:e.activeStepIndex==a,expression:"activeStepIndex == index"}],key:a,staticStyle:{width:"250px"},attrs:{size:"mini",placeholder:"请输入"+t.name+"..."},model:{value:t.value,callback:function(i){e.$set(t,"value",i)},expression:"input.value"}})],1)})),0)}))],2),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{size:"mini"},on:{click:e.previousStep}},[e._v(e._s(0==e.activeStepIndex?"取消":"上一步"))]),i("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.nextStep}},[e._v(e._s(7==e.activeStepIndex?"完成":"下一步"))])],1)])],1)},n=[],l=(i("b0c0"),{name:"SalSob",data:function(){return{dialogTitle:"添加工资账套",dialogFormVisible:!1,salSobData:Object,loading:!1,pageNum:1,pageSize:10,orderField:"",sortType:"",salary:{id:"",name:"",basicSalary:0,trafficSalary:0,lunchSalary:0,bonus:0,pensionPer:0,pensionBase:0,medicalPer:0,medicalBase:0,accumulationFundPer:0,accumulationFundBase:0},stepNames:[{desc:"基本工资",input:[{name:"基本工资",value:""}]},{desc:"交通补助",input:[{name:"交通补助",value:""}]},{desc:"午餐补助",input:[{name:"午餐补助",value:""}]},{desc:"奖金",input:[{name:"奖金",value:""}]},{desc:"养老金",input:[{name:"养老金比率",value:""},{name:"养老金基数",value:""}]},{desc:"医疗保险",input:[{name:"医疗保险比率",value:""},{name:"医疗保险基数",value:""}]},{desc:"公积金",input:[{name:"公积金比率",value:""},{name:"公积金基数",value:""}]},{desc:"账套名称",input:[{name:"账套名称",value:""}]}],activeStepIndex:0,batchBtnDisabled:!0,multipleSelection:[]}},methods:{initSalSobTable:function(){var e=this,t=new FormData;t.append("pageNum",this.pageNum),t.append("pageSize",this.pageSize),t.append("orderField",this.orderField),t.append("sortType",this.sortType),this.loading=!0,this.postRequest("/salary/sob/getAll",t).then((function(t){t&&(e.salSobData=t.result),e.loading=!1}))},toAddSalSob:function(){this.initSalary(),this.dialogTitle="添加工资账套",this.activeStepIndex=0,this.stepNames[0].input[0].value="",this.stepNames[1].input[0].value="",this.stepNames[2].input[0].value="",this.stepNames[3].input[0].value="",this.stepNames[4].input[0].value="",this.stepNames[4].input[1].value="",this.stepNames[5].input[0].value="",this.stepNames[5].input[1].value="",this.stepNames[6].input[0].value="",this.stepNames[6].input[1].value="",this.stepNames[7].input[0].value="",this.dialogFormVisible=!0},refreshSalSob:function(){this.initSalSobTable()},previousStep:function(){if(0==this.activeStepIndex)return this.dialogFormVisible=!1,void this.initSalary();this.activeStepIndex--},nextStep:function(){var e=this;if(7==this.activeStepIndex)return this.salary.basicSalary=this.stepNames[0].input[0].value,this.salary.trafficSalary=this.stepNames[1].input[0].value,this.salary.lunchSalary=this.stepNames[2].input[0].value,this.salary.bonus=this.stepNames[3].input[0].value,this.salary.pensionPer=this.stepNames[4].input[0].value,this.salary.pensionBase=this.stepNames[4].input[1].value,this.salary.medicalPer=this.stepNames[5].input[0].value,this.salary.medicalBase=this.stepNames[5].input[1].value,this.salary.accumulationFundPer=this.stepNames[6].input[0].value,this.salary.accumulationFundBase=this.stepNames[6].input[1].value,this.salary.name=this.stepNames[7].input[0].value,void this.postRequest("/salary/sob/",this.salary).then((function(t){t&&(e.initSalary(),e.dialogFormVisible=!1,e.initSalSobTable())}));this.activeStepIndex++},initSalary:function(){this.salary={id:"",name:"",basicSalary:0,trafficSalary:0,lunchSalary:0,bonus:0,pensionPer:0,pensionBase:0,medicalPer:0,medicalBase:0,accumulationFundPer:0,accumulationFundBase:0}},handleEdit:function(e,t){this.dialogTitle="修改工资账套",this.activeStepIndex=0,this.salary.id=t.id,this.stepNames[0].input[0].value=t.basicSalary,this.stepNames[1].input[0].value=t.trafficSalary,this.stepNames[2].input[0].value=t.lunchSalary,this.stepNames[3].input[0].value=t.bonus,this.stepNames[4].input[0].value=t.pensionPer,this.stepNames[4].input[1].value=t.pensionBase,this.stepNames[5].input[0].value=t.medicalPer,this.stepNames[5].input[1].value=t.medicalBase,this.stepNames[6].input[0].value=t.accumulationFundPer,this.stepNames[6].input[1].value=t.accumulationFundBase,this.stepNames[7].input[0].value=t.name,this.dialogFormVisible=!0},handleDelete:function(e,t){var i=this;this.$confirm("此操作将永久删除【"+t.name+"】账套, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){i.deleteRequest("/salary/sob/"+t.id).then((function(){i.initSalSobTable()}))}))},handleSelectionChange:function(e){this.multipleSelection=e,this.multipleSelection.length>0?this.batchBtnDisabled=!1:this.batchBtnDisabled=!0},handleSizeChange:function(e){this.pageSize=e,this.pageNum=1,this.initSalSobTable()},handleCurrentChange:function(e){this.pageNum=e,this.initSalSobTable()},batchDelete:function(){var e=this;this.$confirm("此操作将永久删除所有所选账套, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.deleteRequest("/salary/sob/",e.multipleSelection).then((function(){e.initSalSobTable()}))}))},getTableStyle:function(){return"text-align:center"}},mounted:function(){this.initSalSobTable()}}),s=l,o=i("2877"),r=Object(o["a"])(s,a,n,!1,null,null,null);t["default"]=r.exports},"3c8c":function(e,t,i){"use strict";var a=i("782a"),n=i.n(a);n.a},"3d85":function(e,t,i){},"418a":function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"hrDivClass"},[i("el-input",{staticStyle:{width:"300px"},attrs:{size:"mini",placeholder:"搜索用户","prefix-icon":"el-icon-search"},nativeOn:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.searchHr(t)}},model:{value:e.keyWord,callback:function(t){e.keyWord=t},expression:"keyWord"}}),i("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary",size:"mini",icon:"el-icon-search"},on:{click:e.searchHr}},[e._v("搜索 ")])],1),i("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{"element-loading-text":"加载中..."}},e._l(e.hrs,(function(t,a){return i("el-row",e._l(t,(function(t,n){return i("el-col",{key:a,attrs:{span:8}},[i("el-card",{key:n,staticClass:"box-card"},[i("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[i("span",[e._v(e._s(t.name))]),i("el-button",{staticStyle:{float:"right",padding:"3px 0",color:"red"},attrs:{type:"text",icon:"el-icon-delete"},on:{click:function(i){return e.deleteHr(t.id,a,n)}}})],1),i("div",{staticClass:"hrDivClass"},[i("el-avatar",{attrs:{size:70,src:t.userFace}})],1),i("div",{staticClass:"hrContent"},[i("table",[i("tr",[i("td",[i("span",[e._v("用户名: "+e._s(t.name))])])]),i("tr",[i("td",[i("span",[e._v("电话号码: "+e._s(t.telephone))])])]),i("tr",[i("td",[i("span",[e._v("手机号码: "+e._s(t.phone))])])]),i("tr",[i("td",[i("span",[e._v("地址: "+e._s(t.address))])])]),i("tr",[i("td",[i("span",[e._v("用户状态: "),i("el-switch",{attrs:{"active-text":"启用","inactive-text":"禁用","active-color":"#13ce66","inactive-color":"#ff4949"},on:{change:function(i){return e.handleEnabledChange(t.id,t.enabled)}},model:{value:t.enabled,callback:function(i){e.$set(t,"enabled",i)},expression:"hr.enabled"}})],1)])]),i("tr",[i("td",[i("span",[e._v("用户角色: "),e._l(t.roles,(function(t,a){return a<=1?i("el-tag",{staticStyle:{"margin-right":"4px"},attrs:{size:"mini",type:"success"}},[e._v(e._s(t.nameZh)+" ")]):e._e()})),t.roles.length>2?i("el-popover",{attrs:{placement:"bottom-start",title:"",width:"200",trigger:"hover"}},[e._l(t.roles.slice(2,t.roles.length),(function(t,a){return i("el-tag",{staticStyle:{"margin-right":"4px","margin-bottom":"4px"},attrs:{size:"mini",type:"success"}},[e._v(e._s(t.nameZh)+" ")])})),i("el-button",{attrs:{slot:"reference",icon:"el-icon-more",type:"text",size:"mini"},slot:"reference"})],2):e._e(),i("el-popover",{attrs:{placement:"bottom",title:"角色列表",width:"250",trigger:"click"},on:{hide:function(i){return e.updateRolesById(t.id,a,n)}}},[i("el-select",{staticStyle:{width:"250px"},attrs:{multiple:"",placeholder:"请选择"},model:{value:e.chooseRoles,callback:function(t){e.chooseRoles=t},expression:"chooseRoles"}},e._l(e.roleList,(function(e){return i("el-option",{key:e.id,attrs:{label:e.nameZh,value:e.id}})})),1),i("el-button",{staticStyle:{"margin-left":"10px"},attrs:{slot:"reference",icon:"el-icon-edit",type:"text",size:"mini"},on:{click:function(i){return e.toChooseRoles(t.roles)}},slot:"reference"})],1)],2)])]),i("tr",[i("td",[i("span",[e._v("备注: "+e._s(t.remark))])])])])])])],1)})),1)})),1)])},n=[],l=(i("4160"),i("b0c0"),i("159b"),{name:"SysHr",data:function(){return{keyWord:"",hrs:[],chooseRoles:[],chooseRolesTmp:[],roleList:[],loading:!0}},methods:{initHrs:function(){var e=this;this.getRequest("/system/hr/").then((function(t){if(t){e.loading=!1;var i=t.result;e.hrs2hrsArr(i)}}))},hrs2hrsArr:function(e){this.hrs=[];for(var t=0,i=3,a=0;a<e.length;a++)t=parseInt(a/i),this.hrs.length<=t&&this.hrs.push([]),this.hrs[t].push(e[a])},initRoleList:function(){var e=this;this.getRequest("/system/hr/roleList").then((function(t){t&&(e.roleList=t.result)}))},toChooseRoles:function(e){var t=this;this.chooseRoles=[],e.forEach((function(e){t.chooseRoles.push(e.id)})),this.chooseRolesTmp=this.chooseRoles},handleEnabledChange:function(e,t){this.putRequest("/system/hr/"+e+"/"+t)},updateRolesById:function(e,t,i){var a=this;this.chooseRolesTmp!=this.chooseRoles&&this.putRequest("/system/hr/"+e,this.chooseRoles).then((function(e){e&&(a.hrs[t][i].roles=e.result)}))},searchHr:function(){var e=this;this.getRequest("/system/hr/"+this.keyWord).then((function(t){if(t){var i=t.result;e.hrs2hrsArr(i)}}))},deleteHr:function(e,t,i){var a=this;this.$confirm("此操作将永久删除操作员【"+this.hrs[t][i].name+"】, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){a.deleteRequest("/system/hr/"+e).then((function(e){e&&(a.hrs=[],a.initHrs())}))}))}},mounted:function(){this.initHrs(),this.initRoleList()}}),s=l,o=(i("a73a"),i("2877")),r=Object(o["a"])(s,a,n,!1,null,null,null);t["default"]=r.exports},"4de4":function(e,t,i){"use strict";var a=i("23e7"),n=i("b727").filter,l=i("1dde"),s=i("ae40"),o=l("filter"),r=s("filter");a({target:"Array",proto:!0,forced:!o||!r},{filter:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}})},"4ec9":function(e,t,i){"use strict";var a=i("6d61"),n=i("6566");e.exports=a("Map",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),n)},5865:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e._v(" 员工资料 ")])},n=[],l={name:"PerEmp"},s=l,o=i("2877"),r=Object(o["a"])(s,a,n,!1,null,"4eaa99d8",null);t["default"]=r.exports},"58da":function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",[i("div",{staticStyle:{display:"flex","justify-content":"space-between"}},[i("div",[i("el-input",{staticStyle:{width:"300px"},attrs:{size:"mini",placeholder:"通过员工姓名搜索员工","prefix-icon":"el-icon-search",clearable:""},on:{clear:e.initEmployeeTable},nativeOn:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.initEmployeeTable(t)}},model:{value:e.keyWord,callback:function(t){e.keyWord=t},expression:"keyWord"}}),i("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary",size:"mini",disabled:e.advDisabled,icon:"el-icon-search"},on:{click:e.initEmployeeTable}},[e._v("搜索 ")]),i("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary",size:"mini",disabled:e.advDisabled},on:{click:e.showAdvSearch}},[i("i",{class:e.advSearchIcon,staticStyle:{"margin-right":"5px"},attrs:{"aria-hidden":"true"}}),e._v("高级搜索 ")])],1),i("div",[i("el-button",{staticStyle:{"margin-right":"8px","text-decoration":"underline"},attrs:{type:"text",size:"mini"},on:{click:e.downloadFileTemplate}},[e._v("下载导入文件模板")]),i("el-upload",{staticStyle:{display:"inline-flex","margin-right":"8px"},attrs:{action:"/employee/basic/import","before-upload":e.beforeUpload,"on-success":e.uploadSuccess,"on-error":e.uploadError,disabled:e.uploadDisabled,accept:".xls,.xlsx","show-file-list":!1}},[i("el-button",{attrs:{type:"success",size:"mini",disabled:e.uploadDisabled,icon:e.uploadIcon}},[e._v(" "+e._s(e.uploadTitle)+" ")])],1),i("el-button",{attrs:{type:"success",size:"mini",icon:"el-icon-download"},on:{click:e.exportEmployee}},[e._v(" 导出数据 ")]),i("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-plus"},on:{click:e.toAddEmployee}},[e._v("员工建档 ")])],1)]),i("el-collapse-transition",[i("div",{directives:[{name:"show",rawName:"v-show",value:e.showDiv,expression:"showDiv"}],staticStyle:{border:"1px solid #409eff","border-radius":"5px","box-sizing":"border-box",padding:"5px",margin:"10px 0px"}},[i("el-form",{ref:"advSearchForm",attrs:{model:e.advSearchCondition,size:"mini"}},[i("el-row",{staticStyle:{"margin-left":"20px"}},[i("el-col",{attrs:{span:5}},[e._v(" 政治面貌: "),i("el-select",{staticStyle:{width:"120px"},attrs:{size:"mini",placeholder:"政治面貌"},model:{value:e.advSearchCondition.politicId,callback:function(t){e.$set(e.advSearchCondition,"politicId",t)},expression:"advSearchCondition.politicId"}},e._l(this.dropDowns.get("politicsstatus"),(function(e){return i("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),i("el-col",{attrs:{span:4}},[e._v(" 民族: "),i("el-select",{staticStyle:{width:"120px"},attrs:{size:"mini",placeholder:"选择民族"},model:{value:e.advSearchCondition.nationId,callback:function(t){e.$set(e.advSearchCondition,"nationId",t)},expression:"advSearchCondition.nationId"}},e._l(this.dropDowns.get("nation"),(function(e){return i("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),i("el-col",{attrs:{span:4}},[e._v(" 职位: "),i("el-select",{staticStyle:{width:"120px"},attrs:{size:"mini",placeholder:"选择职位"},model:{value:e.advSearchCondition.posId,callback:function(t){e.$set(e.advSearchCondition,"posId",t)},expression:"advSearchCondition.posId"}},e._l(this.dropDowns.get("position"),(function(e){return i("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),i("el-col",{attrs:{span:4}},[e._v(" 职称: "),i("el-select",{staticStyle:{width:"120px"},attrs:{size:"mini",placeholder:"选择职称"},model:{value:e.advSearchCondition.jobLevelId,callback:function(t){e.$set(e.advSearchCondition,"jobLevelId",t)},expression:"advSearchCondition.jobLevelId"}},e._l(this.dropDowns.get("joblevel"),(function(e){return i("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),i("el-col",{attrs:{span:7}},[e._v(" 聘用形式: "),i("el-radio-group",{attrs:{size:"mini"},model:{value:e.advSearchCondition.engageForm,callback:function(t){e.$set(e.advSearchCondition,"engageForm",t)},expression:"advSearchCondition.engageForm"}},[i("el-radio",{attrs:{label:"劳动合同"}},[e._v("劳动合同")]),i("el-radio",{staticStyle:{"margin-left":"-10px"},attrs:{label:"劳务合同"}},[e._v("劳务合同")])],1)],1)],1),i("el-row",{staticStyle:{"margin-left":"20px","margin-top":"10px"}},[i("el-col",{attrs:{span:5}},[e._v(" 所属部门: "),i("el-popover",{attrs:{placement:"right",title:"选择部门",trigger:"manual",width:"200"},model:{value:e.departTreeVisible2,callback:function(t){e.departTreeVisible2=t},expression:"departTreeVisible2"}},[i("el-tree",{staticStyle:{"font-size":"10px"},attrs:{data:e.deptTreeData,"expand-on-click-node":!1,"default-expand-all":!0,props:e.defaultProps,"highlight-current":!0},on:{"node-click":e.handleNodeClick2}}),i("div",{staticStyle:{width:"120px",display:"inline-flex",border:"1px solid #dedede",height:"26px","border-radius":"5px",cursor:"pointer"},attrs:{slot:"reference",placeholder:"选择部门"},on:{click:e.showDepTree2},slot:"reference"},[i("span",{staticStyle:{"margin-left":"18px",height:"18px","font-size":"10px"}},[e._v(e._s(e.advSearchCondition.departmentName))])])],1)],1),i("el-col",{attrs:{span:14}},[e._v(" 入职日期: "),i("el-date-picker",{staticStyle:{width:"445px"},attrs:{size:"mini",type:"daterange",align:"right","unlink-panels":"","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"yyyy-MM-dd",format:"yyyy-MM-dd","picker-options":e.pickerOptions},model:{value:e.advSearchCondition.entryDate,callback:function(t){e.$set(e.advSearchCondition,"entryDate",t)},expression:"advSearchCondition.entryDate"}})],1),i("el-col",{attrs:{span:5}},[i("el-button",{staticStyle:{"margin-left":"10px"},attrs:{size:"mini"},on:{click:e.cancelShowDiv}},[e._v("取消 ")]),i("el-button",{staticStyle:{"margin-left":"10px"},attrs:{size:"mini",type:"primary"},on:{click:e.resetBtn}},[e._v("重置 ")]),i("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary",size:"mini",icon:"el-icon-search"},on:{click:e.advSearch}},[e._v("搜索 ")])],1)],1)],1)],1)])],1),i("div",{staticStyle:{"margin-top":"10px"}},[i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"component-table",staticStyle:{width:"100%",height:"100%"},attrs:{data:e.employeeTableData.list,size:"mini",border:"",stripe:"","max-height":"500","header-cell-style":e.getTableStyle,"cell-style":e.getTableStyle,"element-loading-text":"正在加载..."},on:{"selection-change":e.handleSelectionChange,"sort-change":e.handleSortChange}},[i("el-table-column",{attrs:{type:"selection",width:"40",fixed:""}}),e._e(),i("el-table-column",{attrs:{prop:"workId",label:"工号",width:"100",fixed:""}}),i("el-table-column",{attrs:{prop:"name",label:"员工姓名",width:"100",fixed:""}}),i("el-table-column",{attrs:{prop:"gender",label:"性别",width:"60"}}),i("el-table-column",{attrs:{prop:"birthday",label:"出生年月",width:"100",sortable:"custom"}}),i("el-table-column",{attrs:{prop:"idCard",label:"身份证号",width:"150"}}),i("el-table-column",{attrs:{prop:"wedlock",label:"婚姻状况",width:"80"}}),i("el-table-column",{attrs:{prop:"nationId",label:"民族",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e.getTableValueByKey("nation",t.row.nationId))+" ")]}}])}),i("el-table-column",{attrs:{prop:"nativePlace",label:"籍贯",width:"70"}}),i("el-table-column",{attrs:{prop:"politicId",label:"政治面貌",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e.getTableValueByKey("politicsstatus",t.row.politicId))+" ")]}}])}),i("el-table-column",{attrs:{prop:"email",label:"邮箱",width:"140"}}),i("el-table-column",{attrs:{prop:"phone",label:"电话号码",width:"100"}}),i("el-table-column",{attrs:{prop:"address",label:"联系地址",width:"200"}}),i("el-table-column",{attrs:{prop:"departmentId",label:"所属部门",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e.getTableValueByKey("department",t.row.departmentId))+" ")]}}])}),i("el-table-column",{attrs:{prop:"jobLevelId",label:"职称",width:"90"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e.getTableValueByKey("joblevel",t.row.jobLevelId))+" ")]}}])}),i("el-table-column",{attrs:{prop:"posId",label:"职位",width:"90"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e.getTableValueByKey("position",t.row.posId))+" ")]}}])}),i("el-table-column",{attrs:{prop:"engageForm",label:"聘用形式",width:"80"}}),i("el-table-column",{attrs:{prop:"tipTopDegree",label:"最高学历",width:"100",sortable:"custom"}}),i("el-table-column",{attrs:{prop:"specialty",label:"所属专业",width:"140"}}),i("el-table-column",{attrs:{prop:"school",label:"毕业院校",width:"120"}}),i("el-table-column",{attrs:{prop:"workState",label:"在职状态",width:"100",sortable:"custom"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-tag",{attrs:{type:"在职"===t.row.workState?"success":"danger","disable-transitions":""}},[e._v(e._s(t.row.workState))])]}}])}),i("el-table-column",{attrs:{prop:"workAge",label:"工龄",width:"90",sortable:"custom"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-tag",{attrs:{size:"medium"}},[e._v(e._s(t.row.workAge)+"年")])]}}])}),i("el-table-column",{attrs:{label:"入职日期",width:"130"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("i",{directives:[{name:"show",rawName:"v-show",value:void 0!=t.row.beginDate,expression:"scope.row.beginDate != undefined"}],staticClass:"el-icon-time"}),i("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(void 0==t.row.beginDate?"-":t.row.beginDate))])]}}])}),i("el-table-column",{attrs:{label:"转正日期",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("i",{directives:[{name:"show",rawName:"v-show",value:void 0!=t.row.conversionTime,expression:"scope.row.conversionTime != undefined"}],staticClass:"el-icon-time"}),i("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(void 0==t.row.conversionTime?"-":t.row.conversionTime))])]}}])}),i("el-table-column",{attrs:{label:"离职日期",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("i",{directives:[{name:"show",rawName:"v-show",value:void 0!=t.row.notWorkDate,expression:"scope.row.notWorkDate != undefined"}],staticClass:"el-icon-time"}),i("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(void 0==t.row.notWorkDate?"-":t.row.notWorkDate))])]}}])}),i("el-table-column",{attrs:{prop:"contractTerm",label:"合同期限",width:"90"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-tag",{attrs:{size:"medium",type:t.row.contractTerm>5?"success":"warning"}},[e._v(" "+e._s(t.row.contractTerm)+"年")])]}}])}),i("el-table-column",{attrs:{label:"合同起始日期",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("i",{staticClass:"el-icon-time"}),i("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.beginContract))])]}}])}),i("el-table-column",{attrs:{label:"合同终止日期",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("i",{staticClass:"el-icon-time"}),i("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.endContract))])]}}])}),i("el-table-column",{attrs:{prop:"opera",label:"操作",width:"200",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-button",{staticStyle:{padding:"3px"},attrs:{size:"mini"},on:{click:function(i){return e.handleEdit(t.$index,t.row)}}},[e._v("编辑")]),i("el-button",{staticStyle:{padding:"3px"},attrs:{size:"mini",type:"primary"},on:{click:function(i){return e.seeEmpAdv(t.$index,t.row)}}},[e._v("查看高级资料")]),i("el-button",{staticStyle:{padding:"3px"},attrs:{size:"mini",type:"danger"},on:{click:function(i){return e.handleDelete(t.$index,t.row)}}},[e._v("删除")])]}}])})],1)],1),i("div",[i("el-button",{staticStyle:{padding:"3px","margin-top":"10px"},attrs:{size:"mini",type:"danger",disabled:e.handleDisabled},on:{click:e.handleBatchDelete}},[e._v("批量删除")]),i("el-pagination",{staticStyle:{float:"right"},attrs:{"current-page":e.pageNum,"page-sizes":[10,20,30,50],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.employeeTableData.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),i("el-dialog",{attrs:{title:e.dialogTitle,visible:e.dialogFormVisible,width:"85%"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[i("el-form",{ref:"employeeForm",attrs:{model:e.employee,rules:e.rules,size:"mini"}},[i("el-row",[i("el-col",{attrs:{span:6}},[i("el-form-item",{staticClass:"form-item-class",attrs:{label:"工号:",prop:"workId",size:"mini"}},[i("el-input",{staticStyle:{width:"170px"},attrs:{"prefix-icon":"fa fa-vcard",disabled:""},model:{value:e.employee.workId,callback:function(t){e.$set(e.employee,"workId",t)},expression:"employee.workId"}})],1)],1),i("el-col",{attrs:{span:6}},[i("el-form-item",{staticClass:"form-item-class",attrs:{label:"姓名:",prop:"name",size:"mini"}},[i("el-input",{staticStyle:{width:"170px"},attrs:{"prefix-icon":"fa fa-user-circle",placeholder:"请输入员工姓名"},model:{value:e.employee.name,callback:function(t){e.$set(e.employee,"name",t)},expression:"employee.name"}})],1)],1),i("el-col",{attrs:{span:6}},[i("el-form-item",{staticClass:"form-item-class",attrs:{label:"性别:",prop:"gender",size:"mini"}},[i("el-radio-group",{staticStyle:{width:"170px"},attrs:{size:"mini"},model:{value:e.employee.gender,callback:function(t){e.$set(e.employee,"gender",t)},expression:"employee.gender"}},[i("el-radio",{attrs:{label:"男"}},[e._v("男")]),i("el-radio",{attrs:{label:"女"}},[e._v("女")])],1)],1)],1),i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"出生年月:",prop:"birthday",size:"mini"}},[i("el-date-picker",{staticStyle:{width:"180px"},attrs:{size:"mini",type:"date","value-format":"yyyy-MM-dd",format:"yyyy-MM-dd",placeholder:"选择日期"},model:{value:e.employee.birthday,callback:function(t){e.$set(e.employee,"birthday",t)},expression:"employee.birthday"}})],1)],1)],1),i("el-row",[i("el-col",{attrs:{span:6}},[i("el-form-item",{staticClass:"form-item-class",attrs:{label:"籍贯:",prop:"nativePlace",size:"mini"}},[i("el-input",{staticStyle:{width:"170px"},attrs:{"prefix-icon":"el-icon-office-building",placeholder:"请输入员工籍贯"},model:{value:e.employee.nativePlace,callback:function(t){e.$set(e.employee,"nativePlace",t)},expression:"employee.nativePlace"}})],1)],1),i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"电话号码:",prop:"phone",size:"mini"}},[i("el-input",{staticStyle:{width:"170px"},attrs:{"prefix-icon":"el-icon-phone",placeholder:"电话号码"},model:{value:e.employee.phone,callback:function(t){e.$set(e.employee,"phone",t)},expression:"employee.phone"}})],1)],1),i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"电子邮箱:",prop:"email",size:"mini"}},[i("el-input",{staticStyle:{width:"170px"},attrs:{"prefix-icon":"el-icon-message",placeholder:"电子邮箱地址"},model:{value:e.employee.email,callback:function(t){e.$set(e.employee,"email",t)},expression:"employee.email"}})],1)],1),i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"联系地址:",prop:"address",size:"mini"}},[i("el-input",{staticStyle:{width:"180px"},attrs:{"prefix-icon":"el-icon-s-home",placeholder:"联系地址"},model:{value:e.employee.address,callback:function(t){e.$set(e.employee,"address",t)},expression:"employee.address"}})],1)],1)],1),i("el-row",[i("el-col",{attrs:{span:6}},[i("el-form-item",{staticClass:"form-item-class",attrs:{label:"民族:",prop:"nationId",size:"mini"}},[i("el-select",{staticStyle:{width:"170px"},attrs:{size:"mini",placeholder:"选择民族"},model:{value:e.employee.nationId,callback:function(t){e.$set(e.employee,"nationId",t)},expression:"employee.nationId"}},e._l(this.dropDowns.get("nation"),(function(e){return i("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1)],1),i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"所属部门:",prop:"departmentId",size:"mini"}},[i("el-popover",{attrs:{placement:"right",title:"选择部门",trigger:"manual",width:"200"},model:{value:e.departTreeVisible,callback:function(t){e.departTreeVisible=t},expression:"departTreeVisible"}},[i("el-tree",{staticStyle:{"font-size":"10px"},attrs:{data:e.deptTreeData,"expand-on-click-node":!1,"default-expand-all":!0,props:e.defaultProps,"highlight-current":!0},on:{"node-click":e.handleNodeClick}}),i("div",{staticStyle:{width:"170px",display:"inline-flex",border:"1px solid #dedede",height:"26px","border-radius":"5px",cursor:"pointer"},attrs:{slot:"reference",placeholder:"选择部门"},on:{click:e.showDepTree},slot:"reference"},[i("span",{staticStyle:{"margin-left":"18px",height:"18px","font-size":"10px"}},[e._v(e._s(e.employee.departmentName))])])],1)],1)],1),i("el-col",{attrs:{span:6}},[i("el-form-item",{staticClass:"form-item-class",attrs:{label:"职位:",prop:"posId",size:"mini"}},[i("el-select",{staticStyle:{width:"170px"},attrs:{size:"mini",placeholder:"选择职位"},model:{value:e.employee.posId,callback:function(t){e.$set(e.employee,"posId",t)},expression:"employee.posId"}},e._l(this.dropDowns.get("position"),(function(e){return i("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1)],1),i("el-col",{attrs:{span:6}},[i("el-form-item",{staticClass:"form-item-class",attrs:{label:"职称:",prop:"posId",size:"mini"}},[i("el-select",{staticStyle:{width:"180px"},attrs:{size:"mini",placeholder:"选择职称"},model:{value:e.employee.jobLevelId,callback:function(t){e.$set(e.employee,"jobLevelId",t)},expression:"employee.jobLevelId"}},e._l(this.dropDowns.get("joblevel"),(function(e){return i("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1)],1)],1),i("el-row",[i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"政治面貌:",prop:"politicId",size:"mini"}},[i("el-select",{staticStyle:{width:"170px"},attrs:{size:"mini",placeholder:"政治面貌"},model:{value:e.employee.politicId,callback:function(t){e.$set(e.employee,"politicId",t)},expression:"employee.politicId"}},e._l(this.dropDowns.get("politicsstatus"),(function(e){return i("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1)],1),i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"毕业院校:",prop:"school",size:"mini"}},[i("el-input",{staticStyle:{width:"170px"},attrs:{"prefix-icon":"fa fa-university",placeholder:"毕业院校"},model:{value:e.employee.school,callback:function(t){e.$set(e.employee,"school",t)},expression:"employee.school"}})],1)],1),i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"专业名称:",prop:"specialty",size:"mini"}},[i("el-input",{staticStyle:{width:"170px"},attrs:{"prefix-icon":"fa fa-language",placeholder:"专业名称"},model:{value:e.employee.specialty,callback:function(t){e.$set(e.employee,"specialty",t)},expression:"employee.specialty"}})],1)],1),i("el-col",{attrs:{span:6}},[i("el-form-item",{staticClass:"form-item-class",attrs:{label:"学历:",prop:"tipTopDegree",size:"mini"}},[i("el-select",{staticStyle:{width:"180px"},attrs:{size:"mini",placeholder:"最高学历"},model:{value:e.employee.tipTopDegree,callback:function(t){e.$set(e.employee,"tipTopDegree",t)},expression:"employee.tipTopDegree"}},[i("el-option",{key:"博士",attrs:{label:"博士",value:"博士"}}),i("el-option",{key:"硕士",attrs:{label:"硕士",value:"硕士"}}),i("el-option",{key:"本科",attrs:{label:"本科",value:"本科"}}),i("el-option",{key:"大专",attrs:{label:"大专",value:"大专"}}),i("el-option",{key:"高中",attrs:{label:"高中",value:"高中"}}),i("el-option",{key:"初中",attrs:{label:"初中",value:"初中"}}),i("el-option",{key:"小学",attrs:{label:"小学",value:"小学"}}),i("el-option",{key:"其他",attrs:{label:"其他",value:"其他"}})],1)],1)],1)],1),i("el-row",[i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"入职日期:",prop:"beginDate",size:"mini"}},[i("el-date-picker",{staticStyle:{width:"170px"},attrs:{size:"mini",type:"date","value-format":"yyyy-MM-dd",format:"yyyy-MM-dd",placeholder:"选择日期"},model:{value:e.employee.beginDate,callback:function(t){e.$set(e.employee,"beginDate",t)},expression:"employee.beginDate"}})],1)],1),i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"转正日期:",prop:"conversionTime",size:"mini"}},[i("el-date-picker",{staticStyle:{width:"170px"},attrs:{size:"mini",type:"date","value-format":"yyyy-MM-dd",format:"yyyy-MM-dd",placeholder:"选择日期"},model:{value:e.employee.conversionTime,callback:function(t){e.$set(e.employee,"conversionTime",t)},expression:"employee.conversionTime"}})],1)],1),i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"婚姻状况:",prop:"wedlock",size:"mini"}},[i("el-select",{staticStyle:{width:"170px"},attrs:{size:"mini",placeholder:"婚姻状况"},model:{value:e.employee.wedlock,callback:function(t){e.$set(e.employee,"wedlock",t)},expression:"employee.wedlock"}},[i("el-option",{key:"已婚",attrs:{label:"已婚",value:"已婚"}}),i("el-option",{key:"未婚",attrs:{label:"未婚",value:"未婚"}}),i("el-option",{key:"离异",attrs:{label:"离异",value:"离异"}})],1)],1)],1),i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"证件号码:",prop:"idCard",size:"mini"}},[i("el-input",{staticStyle:{width:"180px"},attrs:{"prefix-icon":"fa fa-id-card",placeholder:"请输入身份证号码"},model:{value:e.employee.idCard,callback:function(t){e.$set(e.employee,"idCard",t)},expression:"employee.idCard"}})],1)],1)],1),i("el-row",[i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"聘用形式:",prop:"engageForm",size:"mini"}},[i("el-radio-group",{attrs:{size:"mini"},model:{value:e.employee.engageForm,callback:function(t){e.$set(e.employee,"engageForm",t)},expression:"employee.engageForm"}},[i("el-radio",{attrs:{label:"劳动合同"}},[e._v("劳动合同")]),i("el-radio",{staticStyle:{"margin-left":"-20px"},attrs:{label:"劳务合同"}},[e._v("劳务合同")])],1)],1)],1),i("el-col",{attrs:{span:18}},[i("el-form-item",{attrs:{label:"合同日期:",prop:"contract",size:"mini"}},[i("el-date-picker",{staticStyle:{width:"430px"},attrs:{type:"daterange",align:"right","unlink-panels":"","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"yyyy-MM-dd",format:"yyyy-MM-dd","picker-options":e.pickerOptions},model:{value:e.employee.contract,callback:function(t){e.$set(e.employee,"contract",t)},expression:"employee.contract"}})],1)],1)],1)],1),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{size:"mini"},on:{click:e.cancelAddEmployee}},[e._v("取 消")]),i("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.addEmployee}},[e._v("确 定")])],1)],1)],1)},n=[],l=(i("b0c0"),i("4ec9"),i("d3b7"),i("3ca3"),i("ddb0"),i("5c96")),s={name:"EmpBasic",data:function(){var e=this,t=function(t,i,a){if(""===i)a(new Error("请选择日期"));else{var n=new Date(e.employee.beginDate),l=new Date(e.employee.conversionTime);n>l&&a(new Error("转正日期不能早于入职日期")),a()}};return{keyWord:"",loading:!1,employeeTableData:Object,dropDowns:new Map,pageNum:1,pageSize:10,orderField:"",sortType:"",dialogFormVisible:!1,employee:{workId:"",name:"",gender:"",birthday:"",nativePlace:"",email:"",phone:"",address:"",engageForm:"",nationId:"",departmentId:"",jobLevelId:"",posId:"",politicId:"",school:"",specialty:"",tipTopDegree:"",beginDate:"",conversionTime:"",wedlock:"",idCard:"",contract:"",beginContract:"",endContract:""},rules:{workId:[{required:!0,message:"员工号不能为空",trigger:"change"}],name:[{required:!0,message:"请输入员工姓名",trigger:"blur"},{min:2,max:10,message:"长度在2到10个字符",trigger:"blur"}],gender:[{required:!0,message:"请选择员工性别",trigger:"change"}],birthday:[{required:!0,message:"请选择日期",trigger:"change"}],nativePlace:[{required:!0,message:"请输入员工籍贯",trigger:"blur"}],email:[{required:!0,message:"请输入员工邮箱",trigger:"blur"},{pattern:/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/,message:"邮箱格式错误",trigger:"blur"}],phone:[{required:!0,message:"请输入员工联系电话",trigger:"blur"},{pattern:/^1[34578]\d{9}$/,message:"目前只支持中国大陆的手机号码",trigger:"blur"}],address:[{required:!0,message:"请输入员工联系地址",trigger:"blur"}],engageForm:[{required:!0,message:"请选择聘用形式",trigger:"change"}],nationId:[{required:!0,message:"请选择一项",trigger:"change"}],departmentId:[{required:!0,message:"请选择一项",trigger:"change"}],jobLevelId:[{required:!0,message:"请选择一项",trigger:"change"}],posId:[{required:!0,message:"请选择一项",trigger:"change"}],politicId:[{required:!0,message:"请选择一项",trigger:"change"}],school:[{required:!0,message:"请输入毕业院校",trigger:"blur"},{min:2,max:10,message:"长度在2到10个字符",trigger:"blur"}],specialty:[{required:!0,message:"请输入员工专业名称",trigger:"blur"},{min:2,max:10,message:"长度在2到10个字符",trigger:"blur"}],tipTopDegree:[{required:!0,message:"请选择一项",trigger:"change"}],beginDate:[{validator:t,required:!0,trigger:"change"}],conversionTime:[{validator:t,required:!0,trigger:"change"}],wedlock:[{required:!0,message:"请选择一项",trigger:"change"}],idCard:[{required:!0,message:"请输入员工证件号码",trigger:"blur"},{pattern:/^[1-9]\d{7}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}$|^[1-9]\d{5}[1-9]\d{3}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}([0-9]|X)$/,message:"证件号码格式错误",trigger:"blur"}],contract:[{required:!0,message:"请填写合同日期",trigger:"change"}]},pickerOptions:{shortcuts:[{text:"一年",onClick:function(e){var t=new Date,i=new Date;t.setTime(i.getTime()+31536e6),e.$emit("pick",[i,t])}},{text:"两年",onClick:function(e){var t=new Date,i=new Date;t.setTime(i.getTime()+63072e6),e.$emit("pick",[i,t])}},{text:"五年",onClick:function(e){var t=new Date,i=new Date;i.setTime(i.getTime()-15768e7),e.$emit("pick",[i,t])}},{text:"十年",onClick:function(e){var t=new Date,i=new Date;t.setTime(i.getTime()+31536e7),e.$emit("pick",[i,t])}}]},deptTreeData:[],defaultProps:{children:"children",label:"name"},departTreeVisible:!1,departTreeVisible2:!1,dialogTitle:"员工建档",uploadDisabled:!1,uploadTitle:"导入数据",uploadIcon:"el-icon-upload2",advSearchCondition:{nationId:"",departmentId:"",departmentName:"",jobLevelId:"",posId:"",politicId:"",entryDate:"",beginDate:"",endDate:"",pageNum:1,pageSize:10,orderField:"",sortType:""},showDiv:!1,advDisabled:!1,advSearchIcon:"fa fa-angle-double-down",searchType:"0",handleDisabled:!0,multipleSelection:[]}},methods:{initEmployeeTable:function(){var e=this;this.searchType="0";var t=new FormData;t.append("pageNum",this.pageNum),t.append("pageSize",this.pageSize),t.append("keyWord",this.keyWord),t.append("orderField",this.orderField),t.append("sortType",this.sortType),this.loading=!0,this.postRequest("/employee/basic/getAll",t).then((function(t){t&&(e.employeeTableData=t.result),e.loading=!1}))},initDropDown:function(e){var t=this;this.getRequest("/common/dropDown/"+e).then((function(e){if(e){var i=e.result;for(var a in i)t.dropDowns.set(a,i[a])}}))},getTableValueByKey:function(e,t){for(var i=this.dropDowns.get(e),a=0;a<i.length;a++)if(i[a].id==t)return i[a].name},handleSelectionChange:function(e){this.multipleSelection=e,this.multipleSelection.length>0?this.handleDisabled=!1:this.handleDisabled=!0},handleBatchDelete:function(){var e=this;this.$confirm("此操作将永久删除所有所选员工, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.deleteRequest("/employee/basic/deleteMore",e.multipleSelection).then((function(){e.initEmployeeTable()}))}))},handleSortChange:function(e){this.orderField=e.prop,"ascending"==e.order?this.sortType="asc":"descending"==e.order?this.sortType="desc":this.sortType="","0"==this.searchType?this.initEmployeeTable():this.advSearch()},handleSizeChange:function(e){this.pageSize=e,this.pageNum=1,"0"==this.searchType?this.initEmployeeTable():this.advSearch()},handleCurrentChange:function(e){this.pageNum=e,"0"==this.searchType?this.initEmployeeTable():this.advSearch()},toAddEmployee:function(){var e=this;this.employee={workId:"",name:"",gender:"",birthday:"",nativePlace:"",email:"",phone:"",address:"",engageForm:"",nationId:"",departmentId:"",jobLevelId:"",posId:"",politicId:"",school:"",specialty:"",tipTopDegree:"",beginDate:"",conversionTime:"",wedlock:"",idCard:"",contract:"",beginContract:"",endContract:""},this.getRequest("/employee/basic/getWorkId").then((function(t){t&&(e.employee.workId=t.result,e.dialogTitle="员工建档",e.dialogFormVisible=!0)}))},addEmployee:function(){var e=this;this.$refs["employeeForm"].validate((function(t){if(!t)return!1;e.employee.beginContract=e.employee.contract[0],e.employee.endContract=e.employee.contract[1],e.postRequest("/employee/basic/",e.employee).then((function(t){t&&(e.$refs["employeeForm"].resetFields(),e.dialogFormVisible=!1,e.initEmployeeTable())}))}))},cancelAddEmployee:function(){this.dialogFormVisible=!1,this.departTreeVisible=!1,this.employee.departmentId="",this.employee.departmentName="",this.$refs["employeeForm"].resetFields()},handleEdit:function(e,t){Object.assign(this.employee,t);var i=[];i.push(this.employee.beginContract),i.push(this.employee.endContract),this.employee.contract=i,this.getDepartNameInTree(this.deptTreeData),this.dialogTitle="更新员工资料",this.dialogFormVisible=!0},handleDelete:function(e,t){var i=this;this.$confirm("此操作将永久删除员工【"+t.name+"】, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){i.deleteRequest("/employee/basic/"+t.id).then((function(e){e&&i.initEmployeeTable()}))}))},handleNodeClick:function(e){this.employee.departmentId=e.id,this.employee.departmentName=e.name,this.departTreeVisible=!1},handleNodeClick2:function(e){this.advSearchCondition.departmentId=e.id,this.advSearchCondition.departmentName=e.name,this.departTreeVisible2=!1},showDepTree:function(){this.departTreeVisible=!0},showDepTree2:function(){this.departTreeVisible2=!0},initDepTree:function(){var e=this;this.getRequest("/system/basic/dept/deptTree").then((function(t){t&&(e.deptTreeData=t.result)}))},getTableStyle:function(){return"text-align:center"},getDepartNameInTree:function(e){for(var t=0;t<e.length;t++){if(e[t].id==this.employee.departmentId)return void(this.employee.departmentName=e[t].name);e[t].children&&this.getDepartNameInTree(e[t].children)}},exportEmployee:function(){window.open("/employee/basic/export")},beforeUpload:function(e){this.uploadTitle="正在导入",this.uploadDisabled=!0,this.uploadIcon="el-icon-loading"},uploadSuccess:function(e,t,i){this.uploadTitle="导入数据",this.uploadDisabled=!1,this.uploadIcon="el-icon-upload2",e&&(l["Message"].success({message:e.msg}),this.initEmployeeTable())},uploadError:function(e,t,i){this.uploadTitle="导入数据",this.uploadDisabled=!1,this.uploadIcon="el-icon-upload2",e&&l["Message"].error({message:e.msg})},downloadFileTemplate:function(){window.open("/common/downloadFile/0001")},showAdvSearch:function(){this.showDiv=!0,this.advDisabled=!0,this.advSearchIcon="fa fa-angle-double-up"},cancelShowDiv:function(){this.showDiv=!1,this.advDisabled=!1,this.advSearchIcon="fa fa-angle-double-down",this.advSearchCondition.departmentId="",this.advSearchCondition.departmentName="",this.advSearchCondition={nationId:"",departmentId:"",departmentName:"",jobLevelId:"",posId:"",politicId:"",entryDate:"",beginDate:"",endDate:"",pageNum:1,pageSize:10,orderField:"",sortType:""},this.$refs["advSearchForm"].resetFields()},advSearch:function(){var e=this;this.loading=!0,this.searchType="1",this.advSearchCondition.entryDate.length>0&&(this.advSearchCondition.beginContract=this.advSearchCondition.entryDate[0],this.advSearchCondition.endContract=this.advSearchCondition.entryDate[1]),this.advSearchCondition.pageNum=this.pageNum,this.advSearchCondition.pageSize=this.pageSize,this.advSearchCondition.orderField=this.orderField,this.advSearchCondition.sortType=this.sortType,this.postRequest("/employee/basic/advSearch",this.advSearchCondition).then((function(t){t&&(e.employeeTableData=t.result),e.loading=!1}))},resetBtn:function(){this.advSearchCondition={nationId:"",departmentId:"",departmentName:"",jobLevelId:"",posId:"",politicId:"",entryDate:"",beginDate:"",endDate:"",pageNum:1,pageSize:10,orderField:"",sortType:""},this.initEmployeeTable()}},created:function(){var e=[];e.push("nation"),e.push("politicsstatus"),e.push("department"),e.push("joblevel"),e.push("position"),this.initDropDown(e),this.initDepTree()},mounted:function(){this.initEmployeeTable()}},o=s,r=(i("ec21"),i("2877")),c=Object(r["a"])(o,a,n,!1,null,null,null);t["default"]=c.exports},"5a4a":function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e._v(" 员工调薪 ")])},n=[],l={name:"PerSalary"},s=l,o=i("2877"),r=Object(o["a"])(s,a,n,!1,null,"66b692d8",null);t["default"]=r.exports},"5ced":function(e,t,i){},6566:function(e,t,i){"use strict";var a=i("9bf2").f,n=i("7c73"),l=i("e2cc"),s=i("0366"),o=i("19aa"),r=i("2266"),c=i("7dd0"),d=i("2626"),u=i("83ab"),p=i("f183").fastKey,m=i("69f3"),h=m.set,f=m.getterFor;e.exports={getConstructor:function(e,t,i,c){var d=e((function(e,a){o(e,d,t),h(e,{type:t,index:n(null),first:void 0,last:void 0,size:0}),u||(e.size=0),void 0!=a&&r(a,e[c],e,i)})),m=f(t),b=function(e,t,i){var a,n,l=m(e),s=v(e,t);return s?s.value=i:(l.last=s={index:n=p(t,!0),key:t,value:i,previous:a=l.last,next:void 0,removed:!1},l.first||(l.first=s),a&&(a.next=s),u?l.size++:e.size++,"F"!==n&&(l.index[n]=s)),e},v=function(e,t){var i,a=m(e),n=p(t);if("F"!==n)return a.index[n];for(i=a.first;i;i=i.next)if(i.key==t)return i};return l(d.prototype,{clear:function(){var e=this,t=m(e),i=t.index,a=t.first;while(a)a.removed=!0,a.previous&&(a.previous=a.previous.next=void 0),delete i[a.index],a=a.next;t.first=t.last=void 0,u?t.size=0:e.size=0},delete:function(e){var t=this,i=m(t),a=v(t,e);if(a){var n=a.next,l=a.previous;delete i.index[a.index],a.removed=!0,l&&(l.next=n),n&&(n.previous=l),i.first==a&&(i.first=n),i.last==a&&(i.last=l),u?i.size--:t.size--}return!!a},forEach:function(e){var t,i=m(this),a=s(e,arguments.length>1?arguments[1]:void 0,3);while(t=t?t.next:i.first){a(t.value,t.key,this);while(t&&t.removed)t=t.previous}},has:function(e){return!!v(this,e)}}),l(d.prototype,i?{get:function(e){var t=v(this,e);return t&&t.value},set:function(e,t){return b(this,0===e?0:e,t)}}:{add:function(e){return b(this,e=0===e?0:e,e)}}),u&&a(d.prototype,"size",{get:function(){return m(this).size}}),d},setStrong:function(e,t,i){var a=t+" Iterator",n=f(t),l=f(a);c(e,t,(function(e,t){h(this,{type:a,target:e,state:n(e),kind:t,last:void 0})}),(function(){var e=l(this),t=e.kind,i=e.last;while(i&&i.removed)i=i.previous;return e.target&&(e.last=i=i?i.next:e.state.first)?"keys"==t?{value:i.key,done:!1}:"values"==t?{value:i.value,done:!1}:{value:[i.key,i.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})}),i?"entries":"values",!i,!0),d(t)}}},"6ac98":function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticStyle:{"margin-top":"10px"}},[i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"component-table",staticStyle:{width:"100%",height:"100%"},attrs:{data:e.empSalaryData.list,size:"mini",border:"",stripe:"","max-height":"500","element-loading-text":"正在加载...","header-cell-style":e.getTableStyle,"cell-style":e.getTableStyle}},[e._e(),i("el-table-column",{attrs:{prop:"empName",label:"姓名",width:"150"}}),i("el-table-column",{attrs:{prop:"workId",label:"工号",width:"150"}}),i("el-table-column",{attrs:{prop:"email",label:"电子邮件",width:"150"}}),i("el-table-column",{attrs:{prop:"phone",label:"电话号码",width:"150"}}),i("el-table-column",{attrs:{prop:"departmentName",label:"所属部门",width:"150"}}),i("el-table-column",{attrs:{prop:"salaryName",label:"工资账套",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-popover",{attrs:{placement:"left-start",title:t.row.salaryName,width:"100",trigger:"hover"}},[i("div",{staticClass:"innerDiv"},[e._v("基本工资:"),i("el-tag",{attrs:{size:"mini",type:"success","disable-transitions":""}},[e._v(e._s(null==t.row.basicSalary?"暂未设置":t.row.basicSalary))])],1),i("div",{staticClass:"innerDiv"},[e._v("交通补助:"),i("el-tag",{attrs:{size:"mini",type:"success","disable-transitions":""}},[e._v(e._s(null==t.row.trafficSalary?"暂未设置":t.row.trafficSalary))])],1),i("div",{staticClass:"innerDiv"},[e._v("午餐补助:"),i("el-tag",{attrs:{size:"mini",type:"success","disable-transitions":""}},[e._v(e._s(null==t.row.lunchSalary?"暂未设置":t.row.lunchSalary))])],1),i("div",{staticClass:"innerDiv"},[e._v("奖金:"),i("el-tag",{attrs:{size:"mini",type:"success","disable-transitions":""}},[e._v(e._s(null==t.row.bonus?"暂未设置":t.row.bonus))])],1),i("div",{staticClass:"innerDiv"},[e._v("养老金比率:"),i("el-tag",{attrs:{size:"mini",type:"success","disable-transitions":""}},[e._v(e._s(null==t.row.pensionPer?"暂未设置":t.row.pensionPer))])],1),i("div",{staticClass:"innerDiv"},[e._v("养老金基数:"),i("el-tag",{attrs:{size:"mini",type:"success","disable-transitions":""}},[e._v(e._s(null==t.row.pensionBase?"暂未设置":t.row.pensionBase))])],1),i("div",{staticClass:"innerDiv"},[e._v("医疗保险比率:"),i("el-tag",{attrs:{size:"mini",type:"success","disable-transitions":""}},[e._v(e._s(null==t.row.medicalPer?"暂未设置":t.row.medicalPer))])],1),i("div",{staticClass:"innerDiv"},[e._v("医疗保险基数:"),i("el-tag",{attrs:{size:"mini",type:"success","disable-transitions":""}},[e._v(e._s(null==t.row.medicalBase?"暂未设置":t.row.medicalBase))])],1),i("div",{staticClass:"innerDiv"},[e._v("公积金比率:"),i("el-tag",{attrs:{size:"mini",type:"success","disable-transitions":""}},[e._v(e._s(null==t.row.accumulationFundPer?"暂未设置":t.row.accumulationFundPer))])],1),i("div",{staticClass:"innerDiv"},[e._v("公积金基数:"),i("el-tag",{attrs:{size:"mini",type:"success","disable-transitions":""}},[e._v(e._s(null==t.row.accumulationFundBase?"暂未设置":t.row.accumulationFundBase))])],1),i("el-tag",{attrs:{slot:"reference",size:"mini","disable-transitions":""},slot:"reference"},[e._v(e._s(null==t.row.salaryName?"暂未设置":t.row.salaryName))])],1)]}}])}),i("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(i){return e.handleEdit(t.$index,t.row)}}},[e._v("修改工资账套")])]}}])})],1)],1),i("div",{staticStyle:{"margin-top":"10px"}},[i("el-pagination",{staticStyle:{float:"right"},attrs:{"current-page":e.pageNum,"page-sizes":[10,20,30,50],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.empSalaryData.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),i("el-dialog",{attrs:{title:"修改工资账套",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[i("div",{staticStyle:{height:"120px"}},[i("div",{staticStyle:{"text-align":"center"}},[e._v(" 选择工资账套: "),i("el-select",{attrs:{size:"mini",placeholder:"请选择工资账套"},on:{change:e.changeSalary},model:{value:e.salaryValue,callback:function(t){e.salaryValue=t},expression:"salaryValue"}},e._l(this.salSobData.list,(function(e,t){return i("el-option",{key:t,attrs:{label:e.name,value:e.id}})})),1)],1),i("div",{staticStyle:{"margin-top":"10px"}},[i("el-row",[i("el-col",{attrs:{span:8}},[e._v(" 基本工资:"),i("el-tag",{staticStyle:{"margin-left":"10px"},attrs:{size:"mini",type:"success"}},[e._v(e._s(null==e.salary.basicSalary?"暂未设置":e.salary.basicSalary))])],1),i("el-col",{attrs:{span:8}},[e._v(" 交通补助:"),i("el-tag",{staticStyle:{"margin-left":"10px"},attrs:{size:"mini",type:"success"}},[e._v(e._s(null==e.salary.trafficSalary?"暂未设置":e.salary.trafficSalary))])],1),i("el-col",{attrs:{span:8}},[e._v(" 午餐补助:"),i("el-tag",{staticStyle:{"margin-left":"10px"},attrs:{size:"mini",type:"success"}},[e._v(e._s(null==e.salary.lunchSalary?"暂未设置":e.salary.lunchSalary))])],1)],1),i("el-row",{staticStyle:{"margin-top":"5px"}},[i("el-col",{attrs:{span:8}},[e._v(" 奖金:"),i("el-tag",{staticStyle:{"margin-left":"10px"},attrs:{size:"mini",type:"success"}},[e._v(e._s(null==e.salary.bonus?"暂未设置":e.salary.bonus))])],1),i("el-col",{attrs:{span:8}},[e._v(" 养老金比率:"),i("el-tag",{staticStyle:{"margin-left":"10px"},attrs:{size:"mini",type:"success"}},[e._v(e._s(null==e.salary.pensionPer?"暂未设置":e.salary.pensionPer))])],1),i("el-col",{attrs:{span:8}},[e._v(" 养老金基数:"),i("el-tag",{staticStyle:{"margin-left":"10px"},attrs:{size:"mini",type:"success"}},[e._v(e._s(null==e.salary.pensionBase?"暂未设置":e.salary.pensionBase))])],1)],1),i("el-row",{staticStyle:{"margin-top":"5px"}},[i("el-col",{attrs:{span:8}},[e._v(" 医疗保险比率:"),i("el-tag",{staticStyle:{"margin-left":"10px"},attrs:{size:"mini",type:"success"}},[e._v(e._s(null==e.salary.medicalPer?"暂未设置":e.salary.medicalPer))])],1),i("el-col",{attrs:{span:8}},[e._v(" 医疗保险基数:"),i("el-tag",{staticStyle:{"margin-left":"10px"},attrs:{size:"mini",type:"success"}},[e._v(e._s(null==e.salary.medicalBase?"暂未设置":e.salary.medicalBase))])],1),i("el-col",{attrs:{span:8}},[e._v(" 公积金比率:"),i("el-tag",{staticStyle:{"margin-left":"10px"},attrs:{size:"mini",type:"success"}},[e._v(e._s(null==e.salary.accumulationFundPer?"暂未设置":e.salary.accumulationFundPer))])],1)],1),i("el-row",{staticStyle:{"margin-top":"5px"}},[i("el-col",{attrs:{span:8}},[e._v(" 公积金基数:"),i("el-tag",{staticStyle:{"margin-left":"10px"},attrs:{size:"mini",type:"success"}},[e._v(e._s(null==e.salary.accumulationFundBase?"暂未设置":e.salary.accumulationFundBase))])],1)],1)],1)]),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{size:"mini"},on:{click:e.cancel}},[e._v("取消")]),i("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.updateEmpSalary}},[e._v("确定")])],1)])],1)},n=[],l={name:"SalSobCfg",data:function(){return{loading:!1,pageNum:1,pageSize:10,orderField:"",sortType:"",dialogFormVisible:!1,empSalaryData:Object,salSobData:Object,salaryValue:"",salEmpId:"",empId:"",salary:Object}},methods:{initEmpSalaryTable:function(){var e=this,t=new FormData;t.append("pageNum",this.pageNum),t.append("pageSize",this.pageSize),t.append("orderField",this.orderField),t.append("sortType",this.sortType),this.loading=!0,this.postRequest("/salary/employee/",t).then((function(t){t&&(e.empSalaryData=t.result),e.loading=!1}))},initSalSobTable:function(){var e=this,t=new FormData;t.append("pageNum",1),t.append("pageSize",999999),this.postRequest("/salary/sob/getAll").then((function(t){t&&(e.salSobData=t.result)}))},cancel:function(){this.dialogFormVisible=!1},handleEdit:function(e,t){this.salEmpId=t.id,this.salaryValue=t.salaryId,this.empId=t.empId,this.changeSalary(this.salaryValue),this.dialogFormVisible=!0},changeSalary:function(e){for(var t=0;t<this.salSobData.list.length;t++)if(e==this.salSobData.list[t].id)return void(this.salary=this.salSobData.list[t]);this.salary=Object},updateEmpSalary:function(){var e=this;null!=this.salEmpId&&void 0!=this.salEmpId||this.postRequest("/salary/employee/"+this.empId+"/"+this.salaryValue).then((function(t){t&&(e.initEmpSalaryTable(),e.dialogFormVisible=!1)})),this.putRequest("/salary/employee/"+this.salEmpId+"/"+this.salaryValue).then((function(t){t&&(e.initEmpSalaryTable(),e.dialogFormVisible=!1)}))},handleSizeChange:function(e){this.pageSize=e,this.pageNum=1,this.initEmpSalaryTable()},handleCurrentChange:function(e){this.pageNum=e,this.initEmpSalaryTable()},getTableStyle:function(){return"text-align:center"}},mounted:function(){this.initEmpSalaryTable(),this.initSalSobTable()}},s=l,o=(i("1ec2"),i("2877")),r=Object(o["a"])(s,a,n,!1,null,null,null);t["default"]=r.exports},"6bfd":function(e,t,i){"use strict";var a=i("b0fd"),n=i.n(a);n.a},"6d61":function(e,t,i){"use strict";var a=i("23e7"),n=i("da84"),l=i("94ca"),s=i("6eeb"),o=i("f183"),r=i("2266"),c=i("19aa"),d=i("861d"),u=i("d039"),p=i("1c7e"),m=i("d44e"),h=i("7156");e.exports=function(e,t,i){var f=-1!==e.indexOf("Map"),b=-1!==e.indexOf("Weak"),v=f?"set":"add",y=n[e],g=y&&y.prototype,S=y,x={},w=function(e){var t=g[e];s(g,e,"add"==e?function(e){return t.call(this,0===e?0:e),this}:"delete"==e?function(e){return!(b&&!d(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return b&&!d(e)?void 0:t.call(this,0===e?0:e)}:"has"==e?function(e){return!(b&&!d(e))&&t.call(this,0===e?0:e)}:function(e,i){return t.call(this,0===e?0:e,i),this})};if(l(e,"function"!=typeof y||!(b||g.forEach&&!u((function(){(new y).entries().next()})))))S=i.getConstructor(t,e,f,v),o.REQUIRED=!0;else if(l(e,!0)){var _=new S,T=_[v](b?{}:-0,1)!=_,k=u((function(){_.has(1)})),D=p((function(e){new y(e)})),C=!b&&u((function(){var e=new y,t=5;while(t--)e[v](t,t);return!e.has(-0)}));D||(S=t((function(t,i){c(t,S,e);var a=h(new y,t,S);return void 0!=i&&r(i,a[v],a,f),a})),S.prototype=g,g.constructor=S),(k||C)&&(w("delete"),w("has"),f&&w("get")),(C||T)&&w(v),b&&g.clear&&delete g.clear}return x[e]=S,a({global:!0,forced:S!=y},x),m(S,e),b||i.setStrong(S,e,f),S}},7793:function(e,t,i){},"782a":function(e,t,i){},"7f28":function(e,t,i){},"83ed":function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e._v(" 员工培训 ")])},n=[],l={name:"PerTrain"},s=l,o=i("2877"),r=Object(o["a"])(s,a,n,!1,null,"2e91290e",null);t["default"]=r.exports},8608:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e._v(" 初始化数据库 ")])},n=[],l={name:"SysInit"},s=l,o=i("2877"),r=Object(o["a"])(s,a,n,!1,null,"545f1afe",null);t["default"]=r.exports},"864e":function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e._v(" 操作日志管理 ")])},n=[],l={name:"SysLog"},s=l,o=i("2877"),r=Object(o["a"])(s,a,n,!1,null,"ff6f3968",null);t["default"]=r.exports},8759:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e._v("高级资料")])},n=[],l={name:"EmpAdv"},s=l,o=i("2877"),r=Object(o["a"])(s,a,n,!1,null,"45e35709",null);t["default"]=r.exports},"8d67":function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("el-tabs",{attrs:{type:"card"},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[i("el-tab-pane",{attrs:{label:"部门管理",name:"first"}},[i("DepManager")],1),i("el-tab-pane",{attrs:{label:"职位管理",name:"second"}},[i("PositionManager")],1),i("el-tab-pane",{attrs:{label:"职称管理",name:"third"}},[i("JobTitleManager")],1),i("el-tab-pane",{attrs:{label:"奖惩规则",name:"fourth"}},[i("ReAndPubManager")],1),i("el-tab-pane",{attrs:{label:"权限组",name:"fifth"}},[i("RoleTeam")],1)],1)],1)},n=[],l=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",[i("el-input",{staticStyle:{width:"450px"},attrs:{placeholder:"输入部门名称搜索部门...",size:"mini","prefix-icon":"el-icon-search"},model:{value:e.filterText,callback:function(t){e.filterText=t},expression:"filterText"}})],1),i("div",{staticStyle:{"margin-top":"10px"}},[i("el-tree",{ref:"deptTree",staticClass:"filter-tree",staticStyle:{width:"450px"},attrs:{data:e.deptTreeData,props:e.deptTreeProps,"expand-on-click-node":!1,"filter-node-method":e.filterNode},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.node,n=t.data;return i("span",{staticClass:"custom-tree-node",staticStyle:{display:"flex","justify-content":"space-between",width:"100%"}},[i("span",[e._v(e._s(a.label))]),i("span",[i("el-button",{staticClass:"deptTreeBtn",attrs:{type:"primary",size:"mini"},on:{click:function(){return e.toAddDept(n)}}},[e._v(" 添加部门 ")]),i("el-button",{staticClass:"deptTreeBtn",attrs:{type:"danger",size:"mini"},on:{click:function(){return e.deleteDept(n)}}},[e._v(" 删除部门 ")])],1)])}}])})],1),i("el-dialog",{attrs:{title:"添加部门",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[i("el-form",{staticStyle:{"text-align":"center"},model:{value:e.dept,callback:function(t){e.dept=t},expression:"dept"}},[i("el-form-item",[i("el-tag",{attrs:{type:"info"}},[e._v("上级部门编号")]),i("el-input",{staticClass:"deptInput",attrs:{size:"mini",disabled:""},model:{value:e.dept.parentId,callback:function(t){e.$set(e.dept,"parentId",t)},expression:"dept.parentId"}})],1),i("el-form-item",[i("el-tag",[e._v("上级部门名称")]),i("el-input",{staticClass:"deptInput",attrs:{size:"mini",disabled:""},model:{value:e.dept.parentName,callback:function(t){e.$set(e.dept,"parentName",t)},expression:"dept.parentName"}})],1),i("el-form-item",[i("el-tag",[e._v("新增部门名称")]),i("el-input",{staticClass:"deptInput",attrs:{size:"mini"},model:{value:e.dept.name,callback:function(t){e.$set(e.dept,"name",t)},expression:"dept.name"}})],1)],1),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{size:"mini"},on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),i("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.addDept}},[e._v("确 定")])],1)],1)],1)},s=[],o=(i("99af"),i("4de4"),i("c975"),i("a434"),i("b0c0"),{name:"DepManager",data:function(){return{deptTreeData:[],deptTreeProps:{children:"children",label:"name"},filterText:"",dialogFormVisible:!1,dept:{parentId:"",parentName:"",name:""}}},methods:{initDepTree:function(){var e=this;this.getRequest("/system/basic/dept/deptTree").then((function(t){t&&(e.deptTreeData=t.result)}))},filterNode:function(e,t){return!e||-1!==t.name.indexOf(e)},toAddDept:function(e){this.dept.parentId=e.id,this.dept.parentName=e.name,this.dialogFormVisible=!0},addDept:function(){var e=this;this.postRequest("/system/basic/dept/",this.dept).then((function(t){t&&(e.dept.parentId="",e.dept.parentName="",e.dept.name="",e.dept2Depts(e.deptTreeData,t.result),e.dialogFormVisible=!1)}))},dept2Depts:function(e,t){for(var i=0;i<e.length;i++){var a=e[i];if(a.id==t.parentId)return void(a.children=a.children.concat(t));this.dept2Depts(a.children,t)}},deleteDept:function(e){var t=this;e.children.length?this.$message.error("不能删除父部门"):this.$confirm("此操作将永久删除【"+e.name+"】部门, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.deleteRequest("/system/basic/dept/"+e.id).then((function(i){i&&t.removeDept(t.deptTreeData,e)}))}))},removeDept:function(e,t){for(var i=0;i<e.length;i++){var a=e[i];if(a.id==t.id)return void(e=e.splice(i,1));this.removeDept(a.children,t)}}},watch:{filterText:function(e){this.$refs.deptTree.filter(e)}},mounted:function(){this.initDepTree()}}),r=o,c=(i("2587"),i("2877")),d=Object(c["a"])(r,l,s,!1,null,null,null),u=d.exports,p=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",[i("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"添加职位...",size:"mini","prefix-icon":"el-icon-plus"},nativeOn:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.addPosition(t)}},model:{value:e.position.name,callback:function(t){e.$set(e.position,"name",t)},expression:"position.name"}}),i("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary",size:"mini",icon:"el-icon-plus"},on:{click:e.addPosition}},[e._v("添加 ")])],1),i("div",{staticStyle:{"margin-top":"10px"}},[i("el-table",{staticClass:"component-table",staticStyle:{width:"55%"},attrs:{data:e.positionData,size:"mini",border:"",stripe:"","header-cell-style":e.getTableStyle,"cell-style":e.getTableStyle},on:{"selection-change":e.handleSelectionChange}},[i("el-table-column",{attrs:{type:"selection",width:"40"}}),i("el-table-column",{attrs:{prop:"id",label:"编号",width:"60"}}),i("el-table-column",{attrs:{prop:"name",label:"职位名称",width:"100"}}),i("el-table-column",{attrs:{label:"创建日期",width:"130"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("i",{staticClass:"el-icon-time"}),i("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.createDate))])]}}])}),i("el-table-column",{attrs:{label:"是否启用",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949","active-value":!0,"inactive-value":!1},on:{change:function(i){return e.handleEnabledChange(t.row)}},model:{value:t.row.enabled,callback:function(i){e.$set(t.row,"enabled",i)},expression:"scope.row.enabled"}})]}}])}),i("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-button",{attrs:{size:"mini"},on:{click:function(i){return e.handleEdit(t.$index,t.row)}}},[e._v("编辑")]),i("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(i){return e.handleDelete(t.$index,t.row)}}},[e._v("删除")])]}}])})],1),i("el-button",{staticStyle:{"margin-top":"10px"},attrs:{size:"mini",type:"danger",disabled:e.batchBtnDisabled},on:{click:e.batchDelete}},[e._v("批量删除")])],1),i("el-dialog",{attrs:{title:"编辑职位",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[i("el-form",{staticStyle:{"text-align":"center"},model:{value:e.positionForm,callback:function(t){e.positionForm=t},expression:"positionForm"}},[i("el-form-item",[i("el-tag",{attrs:{type:"info"}},[e._v("职位编号")]),i("el-input",{staticClass:"positionInput",attrs:{size:"mini",disabled:""},model:{value:e.positionForm.id,callback:function(t){e.$set(e.positionForm,"id",t)},expression:"positionForm.id"}})],1),i("el-form-item",[i("el-tag",[e._v("职位名称")]),i("el-input",{staticClass:"positionInput",attrs:{size:"mini"},model:{value:e.positionForm.name,callback:function(t){e.$set(e.positionForm,"name",t)},expression:"positionForm.name"}})],1),i("el-form-item",[i("el-tag",{attrs:{type:"info"}},[e._v("创建时间")]),i("el-input",{staticClass:"positionInput",attrs:{size:"mini",disabled:""},model:{value:e.positionForm.createDate,callback:function(t){e.$set(e.positionForm,"createDate",t)},expression:"positionForm.createDate"}})],1)],1),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{size:"mini"},on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),i("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.updatePosition}},[e._v("确 定")])],1)],1)],1)},m=[],h={name:"PositionManager",data:function(){return{position:{name:""},dialogFormVisible:!1,positionData:[],positionForm:{id:"",name:"",createDate:"",enabled:""},batchBtnDisabled:!0,multipleSelection:[]}},methods:{initPositionTable:function(){var e=this;this.getRequest("/system/basic/position/").then((function(t){t&&(e.positionData=t.result)}))},addPosition:function(){var e=this;this.position.name?this.postRequest("/system/basic/position/",this.position).then((function(){e.initPositionTable(),e.position.name=""})):this.$message.error("职位名称不能为空!")},updatePosition:function(){var e=this;this.putRequest("/system/basic/position/",this.positionForm).then((function(){e.dialogFormVisible=!1,e.initPositionTable()}))},handleEdit:function(e,t){Object.assign(this.positionForm,t),this.dialogFormVisible=!0},handleDelete:function(e,t){var i=this;this.$confirm("此操作将永久删除【"+t.name+"】职位, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){i.deleteRequest("/system/basic/position/"+t.id).then((function(){i.initPositionTable()}))}))},handleSelectionChange:function(e){this.multipleSelection=e,this.multipleSelection.length>0?this.batchBtnDisabled=!1:this.batchBtnDisabled=!0},batchDelete:function(){var e=this;this.$confirm("此操作将永久删除所有所选职位, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.deleteRequest("/system/basic/position/deleteMore",e.multipleSelection).then((function(){e.initPositionTable()}))}))},handleEnabledChange:function(e){this.putRequest("/system/basic/position/"+e.id+"/"+e.enabled)},getTableStyle:function(){return"text-align:center"}},mounted:function(){this.initPositionTable()}},f=h,b=(i("90ce"),Object(c["a"])(f,p,m,!1,null,"dda41f30",null)),v=b.exports,y=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",[i("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"添加职称...",size:"mini","prefix-icon":"el-icon-plus"},nativeOn:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.addJobTitle(t)}},model:{value:e.jobTitle.name,callback:function(t){e.$set(e.jobTitle,"name",t)},expression:"jobTitle.name"}}),i("el-select",{staticStyle:{"margin-left":"10px"},attrs:{placeholder:"请选择职称等级",size:"mini"},model:{value:e.jobTitle.titleLevel,callback:function(t){e.$set(e.jobTitle,"titleLevel",t)},expression:"jobTitle.titleLevel"}},e._l(e.titleLevels,(function(e){return i("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),i("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary",size:"mini",icon:"el-icon-plus"},on:{click:e.addJobTitle}},[e._v("添加 ")])],1),i("div",{staticStyle:{"margin-top":"10px"}},[i("el-table",{staticClass:"component-table",staticStyle:{width:"65%"},attrs:{data:e.jobTitleData,size:"mini",border:"",stripe:"","header-cell-style":e.getTableStyle,"cell-style":e.getTableStyle},on:{"selection-change":e.handleSelectionChange}},[i("el-table-column",{attrs:{type:"selection",width:"40"}}),i("el-table-column",{attrs:{prop:"id",label:"编号",width:"60"}}),i("el-table-column",{attrs:{prop:"name",label:"职称名称",width:"100"}}),i("el-table-column",{attrs:{prop:"titleLevel",label:"职称等级",width:"100"}}),i("el-table-column",{attrs:{label:"创建日期",width:"130"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("i",{staticClass:"el-icon-time"}),i("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.createDate))])]}}])}),i("el-table-column",{attrs:{prop:"enabled",label:"是否启用",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949","active-value":!0,"inactive-value":!1},on:{change:function(i){return e.handleEnabledChange(t.row)}},model:{value:t.row.enabled,callback:function(i){e.$set(t.row,"enabled",i)},expression:"scope.row.enabled"}})]}}])}),i("el-table-column",{attrs:{prop:"opera",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-button",{attrs:{size:"mini"},on:{click:function(i){return e.handleEdit(t.$index,t.row)}}},[e._v("编辑")]),i("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(i){return e.handleDelete(t.$index,t.row)}}},[e._v("删除")])]}}])})],1),i("el-button",{staticStyle:{"margin-top":"10px"},attrs:{size:"mini",type:"danger",disabled:e.batchBtnDisabled},on:{click:e.batchDelete}},[e._v("批量删除")])],1),i("el-dialog",{attrs:{title:"编辑职位",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[i("el-form",{staticStyle:{"text-align":"center"},model:{value:e.jobTitleForm,callback:function(t){e.jobTitleForm=t},expression:"jobTitleForm"}},[i("el-form-item",[i("el-tag",{attrs:{type:"info"}},[e._v("职位编号")]),i("el-input",{staticClass:"jobTitleInput",attrs:{size:"mini",disabled:""},model:{value:e.jobTitleForm.id,callback:function(t){e.$set(e.jobTitleForm,"id",t)},expression:"jobTitleForm.id"}})],1),i("el-form-item",[i("el-tag",[e._v("职称名称")]),i("el-input",{staticClass:"jobTitleInput",attrs:{size:"mini"},model:{value:e.jobTitleForm.name,callback:function(t){e.$set(e.jobTitleForm,"name",t)},expression:"jobTitleForm.name"}})],1),i("el-form-item",[i("el-tag",[e._v("职称等级")]),i("el-select",{staticClass:"jobTitleInput",attrs:{placeholder:"请选择职称等级",size:"mini"},model:{value:e.jobTitleForm.titleLevel,callback:function(t){e.$set(e.jobTitleForm,"titleLevel",t)},expression:"jobTitleForm.titleLevel"}},e._l(e.titleLevels,(function(e){return i("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),i("el-form-item",[i("el-tag",{attrs:{type:"info"}},[e._v("创建时间")]),i("el-input",{staticClass:"jobTitleInput",attrs:{size:"mini",disabled:""},model:{value:e.jobTitleForm.createDate,callback:function(t){e.$set(e.jobTitleForm,"createDate",t)},expression:"jobTitleForm.createDate"}})],1)],1),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{size:"mini"},on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),i("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.updateJobTitle}},[e._v("确 定")])],1)],1)],1)},g=[],S={name:"JobTitleManager",data:function(){return{jobTitle:{name:""},dialogFormVisible:!1,jobTitleData:[],jobTitleForm:{id:"",name:"",titleLevel:"",enabled:"",createDate:""},batchBtnDisabled:!0,multipleSelection:[],titleLevels:[{value:"员级",label:"员级"},{value:"初级",label:"初级"},{value:"中级",label:"中级"},{value:"副高级",label:"副高级"},{value:"正高级",label:"正高级"}]}},methods:{initJobTitleTable:function(){var e=this;this.getRequest("/system/basic/jobTitle/").then((function(t){t&&(e.jobTitleData=t.result)}))},addJobTitle:function(){var e=this;this.jobTitle.name&&this.jobTitle.titleLevel?this.postRequest("/system/basic/jobTitle/",this.jobTitle).then((function(){e.initJobTitleTable(),e.jobTitle.name="",e.jobTitle.titleLevel=""})):this.$message.error("职称名称或职称等级不能为空!")},updateJobTitle:function(){var e=this;this.putRequest("/system/basic/jobTitle/",this.jobTitleForm).then((function(){e.dialogFormVisible=!1,e.initJobTitleTable()}))},handleEdit:function(e,t){Object.assign(this.jobTitleForm,t),this.dialogFormVisible=!0},handleDelete:function(e,t){var i=this;this.$confirm("此操作将永久删除【"+t.name+"】职称, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){i.deleteRequest("/system/basic/jobTitle/"+t.id).then((function(){i.initJobTitleTable()}))}))},handleSelectionChange:function(e){this.multipleSelection=e,this.multipleSelection.length>0?this.batchBtnDisabled=!1:this.batchBtnDisabled=!0},batchDelete:function(){var e=this;this.$confirm("此操作将永久删除所有所选职位, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.deleteRequest("/system/basic/jobTitle/deleteMore",e.multipleSelection).then((function(){e.initJobTitleTable()}))}))},handleEnabledChange:function(e){this.putRequest("/system/basic/jobTitle/"+e.id+"/"+e.enabled)},getTableStyle:function(){return"text-align:center"}},mounted:function(){this.initJobTitleTable()}},x=S,w=(i("6bfd"),Object(c["a"])(x,y,g,!1,null,"3c7bb4bd",null)),_=w.exports,T=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e._v(" 奖惩规则 ")])},k=[],D={name:"RewordAndPublishManager"},C=D,z=Object(c["a"])(C,T,k,!1,null,"67a69f41",null),I=z.exports,F=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"role_input_div"},[i("el-input",{attrs:{size:"mini",placeholder:"请输入角色英文名"},model:{value:e.role.name,callback:function(t){e.$set(e.role,"name",t)},expression:"role.name"}},[i("template",{slot:"prepend"},[e._v("ROLE_")])],2),i("el-input",{attrs:{size:"mini",placeholder:"请输入角色中文名"},nativeOn:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.addRole(t)}},model:{value:e.role.nameZh,callback:function(t){e.$set(e.role,"nameZh",t)},expression:"role.nameZh"}}),i("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary",size:"mini",icon:"el-icon-plus"},on:{click:e.addRole}},[e._v("添加角色 ")])],1),i("div",{staticClass:"role_info_div"},[i("el-collapse",{attrs:{accordion:""},on:{change:e.changeRoleMenu},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},e._l(e.roles,(function(t,a){return i("el-collapse-item",{attrs:{title:t.nameZh,name:t.id}},[i("el-card",{staticClass:"box-card",attrs:{shadow:"hover"}},[i("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[i("span",[e._v("可访问资源")]),i("el-button",{staticStyle:{float:"right",padding:"3px 0",color:"red"},attrs:{icon:"el-icon-delete",type:"text"},on:{click:function(i){return e.deleteRole(t.id,t.nameZh)}}})],1),i("div",[i("el-tree",{key:a,ref:"menuTree",refInFor:!0,attrs:{data:e.menuTreeData,"show-checkbox":"","node-key":"id","default-checked-keys":e.checkedMenu,props:e.menuTreeProps}}),i("div",{staticClass:"treeBtnClass"},[i("el-button",{attrs:{size:"mini"},on:{click:e.cancelUpdate}},[e._v("取消修改")]),i("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(i){return e.updateRoleMenu(t.id,a)}}},[e._v("确认修改")])],1)],1)])],1)})),1)],1)])},$=[],N={name:"RoleTeam",data:function(){return{role:{},roles:[],activeName:-1,menuTreeData:[],menuTreeProps:{children:"children",label:"name"},checkedMenu:[]}},methods:{initRoles:function(){var e=this;this.getRequest("/system/basic/roleTeam/").then((function(t){t&&(e.roles=t.result)}))},initMenuTreeData:function(){var e=this;this.getRequest("/system/basic/roleTeam/menuTree").then((function(t){t&&(e.menuTreeData=t.result)}))},initMenuTreeChecked:function(e){var t=this;this.getRequest("/system/basic/roleTeam/menuTree/checked/"+e).then((function(e){e&&(t.checkedMenu=e.result)}))},addRole:function(){var e=this;this.role.name&&this.role.nameZh?this.postRequest("/system/basic/roleTeam/",this.role).then((function(t){t&&(e.initRoles(),e.role={})})):this.$message.error("角色中文名或英文名不能为空!")},deleteRole:function(e,t){var i=this;this.$confirm("此操作将永久删除【"+t+"】权限, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){i.deleteRequest("/system/basic/roleTeam/"+e).then((function(e){e&&i.initRoles()}))}))},changeRoleMenu:function(e){e&&(this.initMenuTreeData(),this.initMenuTreeChecked(e))},cancelUpdate:function(){this.activeName=-1},updateRoleMenu:function(e,t){var i=this,a=this.$refs.menuTree[t],n=a.getCheckedKeys(!0);console.log(n),n.length?this.putRequest("/system/basic/roleTeam/modify/menu/"+e,n).then((function(e){i.activeName=-1})):this.$confirm("是否取消该角色所有访问资源权限?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){i.putRequest("/system/basic/roleTeam/modify/menu/"+e,n).then((function(e){i.activeName=-1}))}))}},mounted:function(){this.initRoles()}},j=N,E=(i("3c8c"),Object(c["a"])(j,F,$,!1,null,null,null)),R=E.exports,B={name:"SysBasic",data:function(){return{activeName:"first"}},components:{DepManager:u,PositionManager:v,JobTitleManager:_,ReAndPubManager:I,RoleTeam:R}},O=B,P=Object(c["a"])(O,a,n,!1,null,"492663b1",null);t["default"]=P.exports},"8e76":function(e,t,i){"use strict";var a=i("0ebc"),n=i.n(a);n.a},"90ce":function(e,t,i){"use strict";var a=i("3d85"),n=i.n(a);n.a},"94c6":function(e,t,i){"use strict";var a=i("7f28"),n=i.n(a);n.a},a49a:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e._v(" 人事记录统计 ")])},n=[],l={name:"StaRecord"},s=l,o=i("2877"),r=Object(o["a"])(s,a,n,!1,null,"801c4e42",null);t["default"]=r.exports},a54c:function(e,t,i){},a73a:function(e,t,i){"use strict";var a=i("e574"),n=i.n(a);n.a},b0fd:function(e,t,i){},b244:function(e,t,i){},b419:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e._v(" 人事信息统计 ")])},n=[],l={name:"StaPers"},s=l,o=i("2877"),r=Object(o["a"])(s,a,n,!1,null,"4380cdc8",null);t["default"]=r.exports},bb2f:function(e,t,i){var a=i("d039");e.exports=!a((function(){return Object.isExtensible(Object.preventExtensions({}))}))},bb51:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("el-container",[i("el-header",{staticClass:"homeHeader"},[i("div",{staticClass:"title"},[e._v("微人事")]),i("div",{staticStyle:{display:"flex","justify-content":"space-between"}},[i("div",[i("el-button",{staticStyle:{"margin-right":"20px","font-size":"20px",color:"#000000"},attrs:{icon:"el-icon-bell",type:"text"},on:{click:e.openChat}})],1),i("div",[i("el-dropdown",{staticClass:"userInfo",on:{command:e.commandHandler}},[i("span",{staticClass:"el-dropdown-link"},[i("img",{attrs:{src:e.user.userFace}}),e._v(e._s(e.user.name)+" "),i("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",{attrs:{command:"userInfo"}},[i("i",{staticClass:"el-icon-user-solid"}),e._v("个人中心")]),i("el-dropdown-item",{attrs:{command:"setting"}},[i("i",{staticClass:"el-icon-s-tools"}),e._v("设置")]),i("el-dropdown-item",{attrs:{command:"logout",divided:""}},[i("i",{staticClass:"el-icon-s-fold"}),e._v("注销登录")])],1)],1)],1)])])],1),i("el-container",[i("el-aside",{attrs:{width:"200px"}},[i("el-menu",{attrs:{router:"","unique-opened":""}},e._l(e.routes,(function(t,a){return i("el-submenu",{key:a,attrs:{index:a+""}},[i("template",{slot:"title"},[i("i",{class:t.iconCls,staticStyle:{color:"#409eff","margin-right":"5px"}}),i("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.name))])]),e._l(t.children,(function(t,a){return i("el-menu-item",{key:a,attrs:{index:t.path}},[e._v(e._s(t.name))])}))],2)})),1)],1),i("el-main",["/home"!=this.$router.currentRoute.path?i("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[i("el-breadcrumb-item",{attrs:{to:{path:"/home"}}},[e._v("首页")]),i("el-breadcrumb-item",[e._v(e._s(this.$router.currentRoute.name))])],1):e._e(),"/home"==this.$router.currentRoute.path?i("div",[e._v("Welcome to hr!")]):e._e(),i("router-view",{staticClass:"homeRouterView"})],1)],1),i("el-dialog",{attrs:{id:"chatDialog",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[i("div",{staticStyle:{height:"100px"}},[i("Chat")],1)])],1)},n=[],l=(i("ac1f"),i("5319"),function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"chat"}},[i("div",{staticClass:"sidebar"},[i("Card"),i("List")],1),i("div",{staticClass:"main"},[i("Message"),i("UserText")],1)])}),s=[],o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"card"}},[i("header",[i("img",{staticClass:"avatar",attrs:{src:e.user.userFace,alt:e.user.name}}),i("p",{staticClass:"name"},[e._v(e._s(e.user.name))])]),i("footer",[i("input",{directives:[{name:"model",rawName:"v-model",value:e.$store.state.filterKey,expression:"$store.state.filterKey"}],staticClass:"search",attrs:{type:"text",placeholder:"search user..."},domProps:{value:e.$store.state.filterKey},on:{input:function(t){t.target.composing||e.$set(e.$store.state,"filterKey",t.target.value)}}})])])},r=[],c={name:"Card",data:function(){return{user:JSON.parse(window.sessionStorage.getItem("user"))}}},d=c,u=(i("1e87"),i("2877")),p=Object(u["a"])(d,o,r,!1,null,"79e951ac",null),m=p.exports,h=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"list"}},[i("ul",{staticStyle:{"padding-left":"0px"}},e._l(e.hrs,(function(t){return i("li",{class:{active:!!e.currentSession&&t.username===e.currentSession.username},on:{click:function(i){return e.changeCurrentSession(t)}}},[i("img",{staticClass:"avatar",attrs:{src:t.userFace,alt:t.name}}),i("el-badge",{attrs:{"is-dot":e.isDot[e.user.username+"#"+t.username]}},[i("p",{staticClass:"name"},[e._v(e._s(t.name)),i("span",{staticStyle:{"font-size":"4px"}},[e._v(e._s("true"==t.isOnline?"[在线]":"[离线]")+" ")])])])],1)})),0)])},f=[],b=i("2f62"),v={name:"List",data:function(){return{user:JSON.parse(window.sessionStorage.getItem("user"))}},computed:Object(b["b"])(["hrs","currentSession","isDot"]),methods:{changeCurrentSession:function(e){this.$store.commit("changeCurrentSession",e)}}},y=v,g=(i("8e76"),Object(u["a"])(y,h,f,!1,null,"3963ee80",null)),S=g.exports,x=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"scroll-bottom",rawName:"v-scroll-bottom",value:e.sessions,expression:"sessions"}],attrs:{id:"message"}},[e.currentSession?i("ul",e._l(e.sessions[e.user.username+"#"+e.currentSession.username],(function(t){return i("li",[i("p",{staticClass:"time"},[i("span",[e._v(e._s(e._f("time")(t.date)))])]),i("div",{staticClass:"main",class:{self:t.self}},[i("img",{staticClass:"avatar",attrs:{src:t.self?e.user.userFace:e.currentSession.userFace,alt:""}}),i("p",{staticClass:"text"},[e._v(e._s(t.content))])])])})),0):e._e()])},w=[],_=(i("99af"),{name:"Message",data:function(){return{user:JSON.parse(window.sessionStorage.getItem("user"))}},computed:Object(b["b"])(["sessions","currentSession"]),filters:{time:function(e){return e&&(e=new Date(e)),"".concat(e.getHours(),":").concat(e.getMinutes())}},directives:{"scroll-bottom":function(e){setTimeout((function(){e.scrollTop+=9999}),1)}}}),T=_,k=(i("f3a0"),Object(u["a"])(T,x,w,!1,null,"1d81216a",null)),D=k.exports,C=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"userText"}},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.content,expression:"content"}],attrs:{placeholder:"按 Ctrl + Enter 发送"},domProps:{value:e.content},on:{keyup:e.addMessage,input:function(t){t.target.composing||(e.content=t.target.value)}}})])},z=[],I={name:"UserText",data:function(){return{content:""}},computed:Object(b["b"])(["sessions","currentSession"]),methods:{addMessage:function(e){if(e.ctrlKey&&13===e.keyCode&&this.content.length){var t=new Object;t.to=this.currentSession.username,t.content=this.content,this.$store.state.stomp.send("/ws/chat",{},JSON.stringify(t)),this.$store.commit("addMessage",t),this.content=""}}}},F=I,$=(i("d6f7"),Object(u["a"])(F,C,z,!1,null,"18c4cfa0",null)),N=$.exports,j={name:"Chat",data:function(){return{}},mounted:function(){this.$store.dispatch("initData")},components:{UserText:N,Card:m,List:S,Message:D}},E=j,R=(i("94c6"),Object(u["a"])(E,l,s,!1,null,"751181d8",null)),B=R.exports,O={name:"Home",components:{Chat:B},data:function(){return{user:JSON.parse(window.sessionStorage.getItem("user")),collapse:!0,dialogFormVisible:!1}},methods:{commandHandler:function(e){var t=this;switch(e){case"userInfo":break;case"setting":break;case"logout":this.$confirm("是否退出登录?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.getRequest("/logout"),window.sessionStorage.removeItem("user"),t.$store.commit("initRoutes",[]),t.$router.replace("/")}));break;default:}},menuClick:function(e){console.log(e)},openChat:function(){this.dialogFormVisible=!0}},computed:{routes:function(){return this.$store.state.routes}},mounted:function(){this.$store.dispatch("connect")}},P=O,V=(i("cccb"),Object(u["a"])(P,a,n,!1,null,null,null));t["default"]=V.exports},c1d3:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e._v(" 员工积分统计 ")])},n=[],l={name:"StaScore"},s=l,o=i("2877"),r=Object(o["a"])(s,a,n,!1,null,"2d8ed549",null);t["default"]=r.exports},c6ed:function(e,t,i){},cccb:function(e,t,i){"use strict";var a=i("5ced"),n=i.n(a);n.a},cfbb:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e._v(" 员工调动 ")])},n=[],l={name:"PerMv"},s=l,o=i("2877"),r=Object(o["a"])(s,a,n,!1,null,"3ee77c14",null);t["default"]=r.exports},d1e3:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e._v(" 备份恢复数据库 ")])},n=[],l={name:"SysData"},s=l,o=i("2877"),r=Object(o["a"])(s,a,n,!1,null,"8fff1cc0",null);t["default"]=r.exports},d279:function(e,t,i){},d650:function(e,t,i){},d6f7:function(e,t,i){"use strict";var a=i("7793"),n=i.n(a);n.a},d9ac:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e._v(" 员工奖惩 ")])},n=[],l={name:"PerEc"},s=l,o=i("2877"),r=Object(o["a"])(s,a,n,!1,null,"4b8a23b8",null);t["default"]=r.exports},e574:function(e,t,i){},ec21:function(e,t,i){"use strict";var a=i("c6ed"),n=i.n(a);n.a},f183:function(e,t,i){var a=i("d012"),n=i("861d"),l=i("5135"),s=i("9bf2").f,o=i("90e3"),r=i("bb2f"),c=o("meta"),d=0,u=Object.isExtensible||function(){return!0},p=function(e){s(e,c,{value:{objectID:"O"+ ++d,weakData:{}}})},m=function(e,t){if(!n(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!l(e,c)){if(!u(e))return"F";if(!t)return"E";p(e)}return e[c].objectID},h=function(e,t){if(!l(e,c)){if(!u(e))return!0;if(!t)return!1;p(e)}return e[c].weakData},f=function(e){return r&&b.REQUIRED&&u(e)&&!l(e,c)&&p(e),e},b=e.exports={REQUIRED:!1,fastKey:m,getWeakData:h,onFreeze:f};a[c]=!0},f3a0:function(e,t,i){"use strict";var a=i("a54c"),n=i.n(a);n.a},fbac:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e._v(" 月末处理 ")])},n=[],l={name:"SalMonth"},s=l,o=i("2877"),r=Object(o["a"])(s,a,n,!1,null,"9479f3f0",null);t["default"]=r.exports},feca:function(e,t,i){var a={"./Home.vue":"bb51","./Login.vue":"a55b","./emp/EmpAdv.vue":"8759","./emp/EmpBasic.vue":"58da","./per/PerEc.vue":"d9ac","./per/PerEmp.vue":"5865","./per/PerMv.vue":"cfbb","./per/PerSalary.vue":"5a4a","./per/PerTrain.vue":"83ed","./sal/SalMonth.vue":"fbac","./sal/SalSearch.vue":"1937","./sal/SalSob.vue":"2bc5","./sal/SalSobCfg.vue":"6ac98","./sal/SalTable.vue":"21c7","./sta/StaAll.vue":"0aaf","./sta/StaPers.vue":"b419","./sta/StaRecord.vue":"a49a","./sta/StaScore.vue":"c1d3","./sys/SysBasic.vue":"8d67","./sys/SysCfg.vue":"1fe7","./sys/SysData.vue":"d1e3","./sys/SysHr.vue":"418a","./sys/SysInit.vue":"8608","./sys/SysLog.vue":"864e"};function n(e){var t=l(e);return i(t)}function l(e){if(!i.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}n.keys=function(){return Object.keys(a)},n.resolve=l,e.exports=n,n.id="feca"}}]);
//# sourceMappingURL=chunk-2c8c0c86.f998f402.js.map